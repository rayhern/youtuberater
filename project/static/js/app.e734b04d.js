(function(t){function e(e){for(var o,s,i=e[0],l=e[1],u=e[2],c=0,m=[];c<i.length;c++)s=i[c],Object.prototype.hasOwnProperty.call(n,s)&&n[s]&&m.push(n[s][0]),n[s]=0;for(o in l)Object.prototype.hasOwnProperty.call(l,o)&&(t[o]=l[o]);d&&d(e);while(m.length)m.shift()();return r.push.apply(r,u||[]),a()}function a(){for(var t,e=0;e<r.length;e++){for(var a=r[e],o=!0,s=1;s<a.length;s++){var l=a[s];0!==n[l]&&(o=!1)}o&&(r.splice(e--,1),t=i(i.s=a[0]))}return t}var o={},n={app:0},r=[];function s(t){return i.p+"js/"+({about:"about"}[t]||t)+"."+{about:"e6d3afc5"}[t]+".js"}function i(e){if(o[e])return o[e].exports;var a=o[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.e=function(t){var e=[],a=n[t];if(0!==a)if(a)e.push(a[2]);else{var o=new Promise((function(e,o){a=n[t]=[e,o]}));e.push(a[2]=o);var r,l=document.createElement("script");l.charset="utf-8",l.timeout=120,i.nc&&l.setAttribute("nonce",i.nc),l.src=s(t);var u=new Error;r=function(e){l.onerror=l.onload=null,clearTimeout(c);var a=n[t];if(0!==a){if(a){var o=e&&("load"===e.type?"missing":e.type),r=e&&e.target&&e.target.src;u.message="Loading chunk "+t+" failed.\n("+o+": "+r+")",u.name="ChunkLoadError",u.type=o,u.request=r,a[1](u)}n[t]=void 0}};var c=setTimeout((function(){r({type:"timeout",target:l})}),12e4);l.onerror=l.onload=r,document.head.appendChild(l)}return Promise.all(e)},i.m=t,i.c=o,i.d=function(t,e,a){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)i.d(a,o,function(e){return t[e]}.bind(null,o));return a},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/",i.oe=function(t){throw console.error(t),t};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],u=l.push.bind(l);l.push=e,l=l.slice();for(var c=0;c<l.length;c++)e(l[c]);var d=u;r.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"034f":function(t,e,a){"use strict";var o=a("85ec"),n=a.n(o);n.a},"523b":function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var o=a("2b0e"),n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("div",{attrs:{id:"nav"}},[a("Header")],1),a("router-view")],1)},r=[],s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{},[a("b-navbar",{attrs:{toggleable:"lg",type:"dark",variant:"info"}},[a("b-navbar-brand",{staticClass:"text-white",attrs:{to:{name:"Home"}}},[t._v("Youtube Rater")]),a("b-navbar-toggle",{attrs:{target:"nav-collapse"}}),a("b-navbar-nav",{staticClass:"ml-auto"},[null===t.token?a("b-nav-form",{on:{submit:function(e){return e.preventDefault(),t.login(e)}}},[a("b-form-input",{staticClass:"mr-sm-2",attrs:{id:"username",size:"sm",placeholder:"username",name:"username"},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}}),a("b-form-input",{staticClass:"mr-sm-2",attrs:{id:"username",size:"sm",placeholder:"password",name:"password",type:"password"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),a("b-button",{staticClass:"my-2 my-sm-0",attrs:{size:"sm",type:"submit"}},[t._v("Login")])],1):t._e(),null!==t.token?a("b-nav-form",{on:{submit:function(e){return e.preventDefault(),t.logout(e)}}},[a("b-button",{staticClass:"my-2 ml-2",attrs:{type:"submit",size:"sm"}},[t._v(" Logout")])],1):t._e(),null===t.token?a("b-nav-form",{on:{submit:function(e){return e.preventDefault(),t.register(e)}}},[a("b-button",{staticClass:"my-2 ml-2",attrs:{to:{name:"Register"},type:"submit",size:"sm"}},[t._v("Register")])],1):t._e()],1)],1)],1)},i=[],l=a("bc3a"),u=a.n(l),c="user-token",d={getToken:function(){return localStorage.getItem(c)}},m={name:"Header.vue",components:{},data:function(){return{username:"",password:"",token:localStorage.getItem("user-token")||null}},methods:{login:function(){var t=this;u.a.post("http://127.0.0.1:8000/auth/",{username:this.username,password:this.password}).then((function(e){t.token=e.data.token,localStorage.setItem("user-token",t.token)})).catch((function(t){localStorage.removeItem("user-token")}))},logout:function(){this.username="",this.password="",localStorage.removeItem("user-token"),this.token=null},register:function(){console.log("router")}},created:function(){this.token=d.getToken()||null}},p=m,v=a("2877"),f=Object(v["a"])(p,s,i,!1,null,"3929aee2",null),h=f.exports,g={name:"",components:{Header:h}},b=g,_=(a("034f"),Object(v["a"])(b,n,r,!1,null,null,null)),y=_.exports,w=(a("d3b7"),a("8c4f")),C=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home"},[a("ListVideos")],1)},k=[],x=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-5 text-center nicefont"},[a("h4",[t._v("Welcome to Youtube Rater")]),a("b-button",{staticClass:"my-2 center",attrs:{to:{name:"CreateVideo"},size:"sm",type:"submit",variant:"primary"}},[t._v("Create Video")]),t._l(t.videos,(function(e){return a("p",{key:e.id},[t._v(" "+t._s(e.title)+" "),a("br"),t._v(" Rating: "+t._s(e.rating_average)+" "),a("br"),a("button",{staticClass:"btn-sm btn-primary mt-2 mt-3",on:{click:function(a){return t.videoDetail(e)}}},[t._v("Details")])])}))],2),a("div",{staticClass:"col-md-6"},[a("VideoDetails",{attrs:{videodetail:t.videodetail},on:{updated:t.getVideos,deleted:t.updateVideos}})],1)])])},P=[],j=function(){var t=this,e=t.$createElement,a=t._self._c||e;return null!=t.videodetail.title?a("div",{staticClass:"main-text"},[a("div",{staticClass:"row"},[a("div",t._b({staticClass:"col-md-10"},"div",t.videodetail,!1,!0),[a("p",{staticClass:"mb-3"},[a("span",{staticClass:"bodyp"},[t._v("Title: ")]),t._v(t._s(t.videodetail.title))]),a("iframe",{attrs:{width:"450",height:"260",src:t.videodetail.url,frameborder:"0",allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:""}}),a("p",[a("span",{staticClass:"bodyp"},[t._v("Description: ")]),t._v(t._s(t.videodetail.description))]),a("p",[a("span",{staticClass:"bodyp"},[t._v("Rating: ")]),t._v(t._s(t.videodetail.rating_average))]),a("p",[a("span",{staticClass:"bodyp"},[t._v("Category: ")]),t._v(t._s(t.videodetail.category))]),t.videodetail.comments_list.length>0?a("p",[a("span",{staticClass:"bodyp"},[t._v("Comments: ")])]):t._e(),t.videodetail.comments_list.length>0?a("div",{staticClass:"card"},[a("div",{staticClass:"card-body"},t._l(t.videodetail.comments_list,(function(e){return t.videodetail.comments_list.length>0?a("p",[a("span",{domProps:{innerHTML:t._s(e)}})]):t._e()})),0)]):t._e()])]),a("br"),a("div",{staticClass:"card col-md-10"},[a("div",{staticClass:"card-body centered"},[a("form",{staticClass:"form-group",attrs:{id:"formvideo"},on:{submit:function(e){return e.preventDefault(),t.giveRating(e)}}},[a("p",[a("label",{attrs:{for:"stars"}},[t._v("Stars")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.stars,expression:"stars"}],staticClass:"form-control ml-auto mr-auto",attrs:{id:"stars",type:"text",name:"stars"},domProps:{value:t.stars},on:{input:function(e){e.target.composing||(t.stars=e.target.value)}}})]),a("p",[a("label",{attrs:{for:"comments"}},[t._v("Comments")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.comments,expression:"comments"}],staticClass:"form-control ml-auto mr-auto",attrs:{id:"comments",name:"comments"},domProps:{value:t.comments},on:{input:function(e){e.target.composing||(t.comments=e.target.value)}}})]),t._m(0)])])]),a("div",{staticClass:"col-md-10 pt-3 pb-3"},[a("button",{staticClass:"btn-sm btn-danger",on:{click:[function(e){return t.videoDelete(t.videodetail)},function(e){return t.$emit("deleted",t.videodetail)}]}},[t._v("Delete Video")])])]):a("div",{staticClass:"main-text"},[t._v(" Here you will find my dank videos that you can rate. Please be respectful in the comments. Peace and love. ")])},O=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",[a("input",{staticClass:"btn-primary form-control",attrs:{type:"submit",value:"Submit Rating"}})])}],V={name:"VideoDetails",props:{videodetail:{}},data:function(){return{stars:"",comments:""}},methods:{videoDelete:function(t){var e=this;console.log(this.token);var a={headers:{Authorization:"Token "+this.token}};u.a.delete("http://127.0.0.1:8000/api/videos/"+this.videodetail.id,a).then((function(t){console.log(t.data),e.timer=setTimeout((function(){e.videodetail={}}),600)})).catch((function(t){return console.log(t.data)}))},giveRating:function(t,e){var a=this;if(this.token=d.getToken(),parseInt(this.stars)>5)return alert("You cannot rate a video with more than 5 stars."),this.stars="",void(this.comments="");if(parseInt(this.stars)<0)return alert("You cannot rate a video with less than 1 star."),this.stars="",void(this.comments="");var o={stars:this.stars,comments:this.comments},n={headers:{Authorization:"Token "+this.token}};u.a.post("http://127.0.0.1:8000/api/videos/"+this.videodetail.id+"/rate_video/",o,n).then((function(t){console.log(t.data),a.$emit("updated"),u.a.get("http://127.0.0.1:8000/api/videos/"+a.videodetail.id,n).then((function(t){return a.videodetail=t.data})),a.stars="",a.comments=""})).catch((function(t){return console.log(t.data)}))}},created:function(){this.token=d.getToken()||null}},D=V,T=(a("f70c"),Object(v["a"])(D,j,O,!1,null,"2c10e538",null)),$=T.exports,R=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-4 mx-auto py-auto"},[a("h2",[t._v("Create new video")]),t.errors.length?a("p",[a("b",[t._v("Please correct the following error(s):")]),a("ul",t._l(t.errors,(function(e){return a("li",[a("span",{domProps:{innerHTML:t._s(e)}})])})),0)]):t._e(),a("div",{staticClass:"card"},[a("div",{staticClass:"card-body from-group"},[a("form",{attrs:{id:"formvideo"},on:{submit:function(e){return e.preventDefault(),t.checkForm(e)}}},[a("p",[a("label",{attrs:{for:"title"}},[t._v("Title:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],staticClass:"form-control",attrs:{type:"text",id:"title",name:"title"},domProps:{value:t.title},on:{input:function(e){e.target.composing||(t.title=e.target.value)}}})]),a("p",[a("label",{attrs:{for:"description"}},[t._v("Description:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.description,expression:"description"}],staticClass:"form-control",attrs:{type:"textarea",id:"description",name:"title"},domProps:{value:t.description},on:{input:function(e){e.target.composing||(t.description=e.target.value)}}})]),a("p",[a("label",{attrs:{for:"url"}},[t._v("URL:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.url,expression:"url"}],staticClass:"form-control",attrs:{type:"text",id:"url",name:"title"},domProps:{value:t.url},on:{input:function(e){e.target.composing||(t.url=e.target.value)}}})]),a("p",[a("label",{attrs:{for:"category"}},[t._v("Category:")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.category,expression:"category"}],staticClass:"form-control",attrs:{id:"category",name:"category"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.category=e.target.multiple?a:a[0]}}},[a("option",[t._v("web_development")]),a("option",[t._v("programming")]),a("option",[t._v("music")])])]),a("p",[a("label",{attrs:{for:"subcategory"}},[t._v("Subcategory:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.subcategory,expression:"subcategory"}],staticClass:"form-control",attrs:{type:"text",id:"subcategory",name:"subcategory"},domProps:{value:t.subcategory},on:{input:function(e){e.target.composing||(t.subcategory=e.target.value)}}})]),a("p",[a("label",{attrs:{for:"author"}},[t._v("Author:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.author,expression:"author"}],staticClass:"form-control",attrs:{type:"text",id:"author",name:"author"},domProps:{value:t.author},on:{input:function(e){e.target.composing||(t.author=e.target.value)}}})]),a("p",[a("input",{staticClass:"btn-sm btn-primary",attrs:{type:"submit",value:"Create Video"},on:{click:function(e){return t.$emit("createdvideo")}}})])])])])])])])},E=[],S=(a("a4d3"),a("e01a"),{name:"CreateVideo.vue",components:{},data:function(){return{title:null,description:null,url:null,category:null,subcategory:null,author:null,errors:[]}},methods:{checkForm:function(){var t=this;this.errors=[],u.a.post("http://127.0.0.1:8000/api/videos/",{title:this.title,description:this.description,url:this.url,category:this.category,subcategory:this.subcategory,author:this.author}).then((function(e){console.log(e),t.$router.push("/")})).catch((function(e){for(var a in console.log(e),e.response.data)t.errors.push("<b>"+a+"</b> - "+e.response.data[a][0])}))}}}),N=S,L=Object(v["a"])(N,R,E,!1,null,null,null),H=L.exports,z={name:"ListVideos",components:{VideoDetails:$,CreateVideo:H},data:function(){return{videos:[],videodetail:Object}},methods:{getVideos:function(){var t=this;console.log("get videos"),u.a.get("http://127.0.0.1:8000/api/videos/").then((function(e){return t.videos=e.data})).catch((function(t){return console.log(t)}))},videoDetail:function(t){this.videodetail=t},updateVideos:function(t){var e=this;this.timer=setTimeout((function(){u.a.get("http://127.0.0.1:8000/api/videos/").then((function(t){return e.videos=t.data})).catch((function(t){return console.log(t)}))}),600)}},created:function(){this.getVideos()}},I=z,A=(a("9a56"),Object(v["a"])(I,x,P,!1,null,"95f87e28",null)),M=A.exports,U={name:"Home",components:{ListVideos:M}},Y=U,F=Object(v["a"])(Y,C,k,!1,null,null,null),J=F.exports,q=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{},[a("h2",[t._v("User Registration")]),a("form",{attrs:{id:"formvideo"},on:{submit:function(e){return e.preventDefault(),t.CreateUser(e)}}},[a("p",[a("label",{attrs:{for:"username"}},[t._v("Username:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],staticClass:"ml2",attrs:{type:"text",name:"username",id:"username"},domProps:{value:t.username},on:{input:function(e){e.target.composing||(t.username=e.target.value)}}})]),a("p",[a("label",{attrs:{for:"password"}},[t._v("Password:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"ml2",attrs:{type:"password",name:"password",id:"password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),a("p",{staticClass:"ml-4"},[a("label",{attrs:{for:"email"}},[t._v("Email:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],attrs:{type:"text",name:"email",id:"email"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}})]),t._m(0)])])},W=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",[a("input",{staticClass:"btn btn-primary",attrs:{type:"submit",value:"Register"}})])}],B={name:"Register.vue",data:function(){return{username:null,password:null,email:null}},methods:{CreateUser:function(){console.log(this.username),console.log(this.password),u.a.post("http://127.0.0.1:8000/api/users/",{username:this.username,password:this.password,email:this.email}).then((function(t){return console.log(t)})).catch((function(t){return console.log(t)})),this.$router.push("/")}}},G=B,K=Object(v["a"])(G,q,W,!1,null,"39ef7340",null),Q=K.exports;o["default"].use(w["a"]);var X=[{path:"/",name:"Home",component:J},{path:"/about",name:"About",component:function(){return a.e("about").then(a.bind(null,"f820"))}},{path:"/register",name:"Register",component:Q},{path:"/createvideo",name:"CreateVideo",component:H}],Z=new w["a"]({routes:X}),tt=Z,et=a("5f5b");a("f9e3"),a("2dd8");o["default"].config.productionTip=!1,o["default"].use(et["a"]),new o["default"]({router:tt,render:function(t){return t(y)}}).$mount("#app")},"85ec":function(t,e,a){},"9a56":function(t,e,a){"use strict";var o=a("523b"),n=a.n(o);n.a},b5ec:function(t,e,a){},f70c:function(t,e,a){"use strict";var o=a("b5ec"),n=a.n(o);n.a}});
//# sourceMappingURL=app.e734b04d.js.map